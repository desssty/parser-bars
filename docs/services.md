# Документация по services/hh_service.py

Файл `hh_service.py` содержит сервис для запуска парсера HeadHunter (HHParser) и получения данных о вакансиях.

---

## Описание

Сервис выполняет следующие задачи:

1. Инициализация логирования для отслеживания процесса работы парсера.
2. Создание экземпляра `HHParser` с заданными параметрами вакансии и города.
3. Запуск асинхронного метода `run()` парсера, который возвращает:
   - количество найденных резюме
   - список с данными резюме
4. Возврат этих данных вызывающему коду напрямую, без промежуточного чтения/записи временных файлов.

Сервис поддерживает передачу `progress_callback` — функции для отслеживания прогресса парсинга в реальном времени.

---

## Функции

### async run_hh_parser(vacancy, city, progress_callback=None)

**Параметры:**

- `vacancy` — строка с названием вакансии для поиска
- `city` — строка с названием города для фильтрации вакансий
- `progress_callback` — необязательная асинхронная функция для получения прогресса парсинга

**Возвращает:**

- `count` — количество найденных резюме
- `results` — список словарей с данными резюме

---

## Пример использования

```python
import asyncio
from services.hh_service import run_hh_parser

async def main():
    vacancy = "Python Developer"
    city = "Москва"

    count, results = await run_hh_parser(vacancy, city)
    print(f"Найдено резюме: {count}")
    for resume in results:
        print(resume)

asyncio.run(main())
```

---
